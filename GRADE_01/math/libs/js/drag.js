"use strict";window.$Drag=function(t){var l,o,d=this,v=t.type?t.type:"all",m=t.dragObj,c=t.container?t.container:document;t.callBack&&(l=t.callBack.move?t.callBack.move:null,o=t.callBack.end?t.callBack.end:null),this.startDrag=function(t){t.stopPropagation();var a=$pm.zoomRate?$pm.zoomRate:1,s="touchstart"==t.type?t.touches[0].clientY:t.clientY,i="touchstart"==t.type?t.touches[0].clientX:t.clientX,r=m.offsetTop,u=m.offsetLeft;function e(t){var e="touchmove"==t.type?t.touches[0].clientY:t.clientY,n="touchmove"==t.type?t.touches[0].clientX:t.clientX,o=(e-s)/a+r,c=(n-i)/a+u;d.newY=o,d.newX=c,"horizon"!==v&&(m.style.top=parseInt(o)+"px"),"vertical"!==v&&(m.style.left=parseInt(c)+"px"),l&&l(d)}function n(){c.removeEventListener("mousemove",e),c.removeEventListener("touchmove",e),document.removeEventListener("mouseup",n),document.removeEventListener("touchend",n),o&&o(d)}m.style.transition="none",c.addEventListener("mousemove",e),c.addEventListener("touchmove",e),document.addEventListener("mouseup",n),document.addEventListener("touchend",n)},m.addEventListener("mousedown",this.startDrag.bind(this)),m.addEventListener("touchstart",this.startDrag.bind(this)),c.addEventListener("touchstart",function(t){t.stopPropagation()})};