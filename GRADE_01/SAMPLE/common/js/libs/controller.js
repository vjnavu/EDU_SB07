!function(){"use strict";function e(t){var r=this;this.container=t.container,this.mediaType=t.mediaType?t.mediaType:"audio",this.controlType=t.controlType?t.controlType:"control",this.mediaArray=$ts.getEl(this.mediaType,this.container),this.mediaBtns=t.mediaBtns,this.multiMode=1<this.mediaArray.length,this.media=this.mediaArray[0],this.media.setAttribute("allowfullscreen",""),this.index=t.index?t.index:0,this.thumbnail="video"===this.mediaType,this.screenPlayBtn="video"===this.mediaType,this.autoPlay=this.media.hasAttribute("data-auto-play"),this.autoPlay&&(this.playPage=t.container.hasAttribute("data-current-page")?t.container.getAttribute("data-current-page"):1),this.mediaSync=!!t.container.hasAttribute("data-sync")&&t.container.getAttribute("data-sync"),this.isPlaying=!1,this.caption=!!t.container.hasAttribute("data-media-caption"),this.fullMode=!!t.container.hasAttribute("data-media-full"),this.volume=1,this.pageIndex=1,this.callBack=t.callBack||null,Object.defineProperties(this,{fullscreenelement:{get:function(){return document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||document.fullscreenElement||null}},isTouch:{get:function(){return/Android/i.test(navigator.userAgent)?"android":/iPhone|iPad|iPod/i.test(navigator.userAgent)?"ios":!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)}},duration:{get:function(){return this.media.duration||this.mediaDuration}},durSec:{get:function(){return Math.floor(this.duration%60)}},durMin:{get:function(){return Math.floor(this.duration/60)}},currTime:{get:function(){return this.media.currentTime},set:function(t){this.media.currentTime&&(this.media.currentTime=t)}},currSec:{get:function(){return Math.floor(this.currTime%60)}},currMin:{get:function(){return Math.floor(this.currTime/60)}},curDurRate:{get:function(){return this.currTime/this.duration}},barSize:{get:function(){return this.handleBar&&this.handleBar.getBoundingClientRect()}},barWidth:{get:function(){return this.barSize.right-this.barSize.left}}});t.callBack;this.create=function(){return this.controller=$ts.ce({tag:"div",class:"controller",parent:this.container}),this.handleBar=$ts.ce({tag:"div",class:"handleBar",parent:this.controller}),this.handleColorBar=$ts.ce({tag:"div",class:"handleColorBar",parent:this.handleBar}),this.handler=$ts.ce({tag:"div",class:"handler",parent:this.handleBar}),this.timeContainer=$ts.ce({tag:"div",class:"timeContainer",parent:this.controller}),this.curTime=$ts.ce({tag:"div",class:"curTime",parent:this.timeContainer}),this.totalTime=$ts.ce({tag:"div",class:"totalTime",parent:this.timeContainer}),this.playBtn=$ts.ce({tag:"div",class:"playBtn",parent:this.controller,attr:{title:"재생"}}),this.pauseBtn=$ts.ce({tag:"div",class:"pauseBtn",parent:this.controller,attr:{title:"일시 정지"}}),this.stopBtn=$ts.ce({tag:"div",class:"stopBtn",parent:this.controller,attr:{title:"정지"}}),this.muteBtn=$ts.ce({tag:"div",class:"muteBtn",parent:this.controller,attr:{title:"음소거"}}),"audio"!==this.mediaType&&(this.fullMode&&(this.fullScreenBtn=$ts.ce({tag:"div",class:"fullScreenBtn",parent:this.controller,attr:{title:"전체 화면"}})),this.caption&&(this.captionBtn=$ts.ce({tag:"div",class:"captionBtn",parent:this.controller,attr:{title:"자막"}})),this.closeBtn=$ts.ce({tag:"div",class:"closeBtn",parent:this.container,attr:{title:"닫기"}})),this},this.addEvent=function(){if("video"===this.mediaType&&(document.addEventListener("fullscreenchange",this.fullScreenHandler,!1),document.addEventListener("webkitfullscreenchange",this.fullScreenHandler,!1),document.addEventListener("mozfullscreenchange",this.fullScreenHandler,!1),document.addEventListener("MSFullscreenChange",this.fullScreenHandler,!1)),this.playBtn.addEventListener("click",this.play.bind(this)),this.pauseBtn.addEventListener("click",this.pause.bind(this,this.pauseBtn)),this.stopBtn.addEventListener("click",this.pause.bind(this,this.stopBtn)),this.muteBtn&&(this.muteBtn.addEventListener("click",this.mute.bind(this,this.muteBtn)),this.muteBtn.addEventListener("click",$efSound.click),$ts.addHoverEvents(this.muteBtn)),$ts.addHoverEvents(this.playBtn),$ts.addHoverEvents(this.pauseBtn),$ts.addHoverEvents(this.stopBtn),this.playBtn.addEventListener("click",$efSound.click),this.pauseBtn.addEventListener("click",$efSound.click),this.stopBtn.addEventListener("click",$efSound.click),this.closeBtn&&(this.closeBtn.addEventListener("click",this.close.bind(this,this.closeBtn)),$ts.addHoverEvents(this.closeBtn),this.closeBtn.addEventListener("click",$efSound.click)),1<this.mediaArray.length&&this.mediaBtns)for(var t in this.mediaBtns)this.mediaBtns[t].addEventListener("click",this.changeMedia.bind(this,this.mediaBtns[t])),$ts.addHoverEvents(this.mediaBtns[t]),1==this.mediaBtns[t].getAttribute("data-media-btn")&&this.mediaBtns[t].classList.add("on"),this.mediaBtns[t].addEventListener("click",$efSound.click);"speaker"===this.controlType&&this.speaker&&(this.speaker.addEventListener("click",this.speakerPlay.bind(this)),$ts.addHoverEvents(this.speaker),this.speaker.addEventListener("click",$efSound.click)),this.handleBar.addEventListener("click",this.clickBar.bind(this)),this.handler.addEventListener("mousedown",this.dragHandler.bind(this)),this.handler.addEventListener("touchstart",this.dragHandler.bind(this)),"audio"!==this.mediaType&&this.fullMode&&(this.fullScreenBtn.addEventListener("click",this.fullScreen.bind(this)),$ts.addHoverEvents(this.fullScreenBtn))},this.fullScreen=function(){this.media.requestFullscreen?this.media.requestFullscreen():this.media.msRequestFullscreen?(this.controlsOn(),this.media.msRequestFullscreen()):this.media.mozRequestFullScreen?this.media.mozRequestFullScreen():this.media.webkitRequestFullscreen?this.media.webkitRequestFullscreen():this.media.webkitEnterFullScreen&&this.media.webkitEnterFullScreen(),"ios"===this.isTouch&&window.setTimeout(function(){r.isPlayOff()})},this.fullScreenHandler=function(){r.fullscreenelement?r.fullScreenOn():r.fullScreenOff()},this.timer=function(){function t(t){return t<10?"0"+t:t.toString()}this.curTime.innerHTML=t(this.currMin)+":"+t(this.currSec),this.totalTime.innerHTML=t(this.durMin)+":"+t(this.durSec)},this.getData=function(){var t={};return t.barSize=this.handleBar.getBoundingClientRect(),t.barTotalSize=t.barSize.right-t.barSize.left,t.handlerWidth=this.handler.getBoundingClientRect().width/2,t},this.resetMediaBtn=function(){for(var t in this.mediaBtns)this.mediaBtns[t].classList.remove("on")},this.changeMedia=function(t){var e=t.getAttribute("data-media-btn");for(var i in this.stop(),this.resetMediaBtn(),t.classList.add("on"),this.mediaArray)if(this.mediaArray[i].getAttribute("data-media-index")==e){this.media=this.mediaArray[i],this.mediaArray[i].removeEventListener("ended",this.stop.bind(this));break}this.timer(),this.media.addEventListener("ended",this.stop.bind(this))},this.speakerPlay=function(){this.isPlay?(this.stop(),this.speaker.classList.remove("on")):(this.play(),this.speaker.classList.add("on"))},this.playing=function(){this.timeUpdate=setInterval(function(){2===this.media.readyState&&(window.temp_currTime2=this.currTime,this.stop(),this.currTime=window.temp_currTime2,this.play());r.changeHandlerPosition(r.curDurRate)}.bind(this),100)},this.offBtn=function(){this.isPlay=!1,this.isPlayOff()},this.play=function(){this.callBack&&this.callBack.play&&this.callBack.play(this),this.isPlaying=!0,this.offBtn(),this.isPlayOn(),"video"===this.mediaType&&this.thumbnail.classList.add("off"),this.media.currentTime=this.currTime,this.media.play(),this.playing()},this.pause=function(t){this.offBtn(),this.media.pause(),-1<t.className.indexOf("pause")?console.log("pause"):this.stop(),this.isPlaying=!1,clearInterval(this.timeUpdate),this.callBack&&this.callBack.pause&&this.callBack.pause(this)},this.close=function(){this.stop(),this.callBack&&this.callBack.close&&this.callBack.close(this)},this.stop=function(){this.isPlaying=!1,"speaker"===this.controlType&&this.speaker.classList.remove("on"),this.offBtn(),this.media.pause(),this.media.currentTime&&(this.media.currentTime=0),this.thumbnail&&this.thumbnail.classList.remove("off"),this.changeCurTime(0),this.changeHandlerPosition(0),clearInterval(this.timeUpdate),this.callBack&&this.callBack.stop&&this.callBack.stop(this)},this.mute=function(t){t.classList.contains("on")?(t.classList.remove("on"),this.media.muted=!1):(t.classList.add("on"),this.media.muted=!0)},this.clickBar=function(t){var e="touchstart"===t.type?t.touches[0].clientX:t.clientX,i=this.getRateByBarEventX(e);this.changeHandlerPosition(i),this.changeCurTime(i)},this.dragHandler=function(t){var e,i,n=this.media;function s(t){e="touchmove"===t.type?t.touches[0].clientX:t.clientX,i=r.getRateByBarEventX(e),n.pause(),r.changeHandlerPosition(i),r.changeCurTime(i)}function a(){document.removeEventListener("mousemove",s),document.removeEventListener("touchmove",s),document.removeEventListener("mouseup",a),document.removeEventListener("touchend",a),1<=i?r.stop():r.isPlaying&&n.play()}e="touchstart"===t.type?t.touches[0].clientX:t.clientX,i=this.getRateByBarEventX(e),document.addEventListener("mousemove",s),document.addEventListener("touchmove",s),document.addEventListener("mouseup",a),document.addEventListener("touchend",a),this.changeHandlerPosition(i),this.changeCurTime(i)},this.getRateByBarEventX=function(t){return(t-this.barSize.left)/r.barWidth},this.changeHandlerPosition=function(t){var e,i=t<=0?(e=0,"0"):1<=t?(e=this.barWidth/$pm.zoomRate,"100%"):(e=this.barWidth*t/$pm.zoomRate,100*t+"%"),n="translateX("+e+"px)";this.handler.style.transform=n,this.handler.style.msTransform=n,this.handler.style.mozTransform=n,this.handler.style.webkitTransform=n,this.handleColorBar.style.width=i,this.timer()},this.changeCurTime=function(t){var e=isNaN(this.media.duration)?this.mediaDuration:this.media.duration,i=t<=0,n=1<=t;!this.currTime&&isNaN(this.currTime)||(i?this.currTime=0:n?this.currTime=e:(this.currTime=e*t,this.media.currentTime=e*t)),this.timer()},this.startAutoPlay=function(t){this.setTimeAutoPlay=setTimeout(function(){r.play()},t)},this.initThumnail=function(){var t,e;this.thumbnail&&(t=$ts.ce({tag:"div",class:"mediaThumbnail",parent:this.container}),e=this.media.getAttribute("poster"),t.style.background="url("+e+") top center no-repeat",t.style.backgroundSize="contain",this.thumbnail=t)},this.initScreenPlayBtn=function(){this.screenPlayBtn&&(this.screenPlayBtn=this.container.querySelector(".screenPlayBtn"),this.screenPlayBtn.addEventListener("click",this.play.bind(this)),$ts.addHoverEvents(this.screenPlayBtn),this.screenPlayBtn.addEventListener("click",$efSound.click))},this.set=function(){var t;this.container.classList.add(this.mediaType),this.initThumnail(),this.initScreenPlayBtn(),"control"===this.controlType&&this.container.classList.add("on"),"speaker"===this.controlType&&(t=this.container.getAttribute("data-speaker-media"),this.speaker=$ts.getEl('[data-speaker="'+t+'"]')[0]),this.autoPlay&&1==this.playPage&&this.startAutoPlay(this.media.getAttribute("data-auto-play")),this.volumeControl&&window.$run("$volumeControl",function(){window.$volumeControl(this)}),this.getDuration(),this.media.addEventListener("ended",this.stop.bind(this)),this.media.addEventListener("playing",function(){r.isPlaying=!0,r.isPlay=!0}),this.create().addEvent()},this.getDuration=function(){var t=setInterval(function(){r.media.readyState&&(clearInterval(t),r.mediaDuration=r.media.duration,r.timer())})},this.fullScreenOff=function(){this.controlsOff(),this.container.classList.remove("isFullscreen"),this.media.paused?this.isPlayOff():this.isPlayOn(),this.media.muted?this.muteBtn.classList.add("on"):this.muteBtn.classList.remove("on")},this.fullScreenOn=function(){this.container.classList.add("isFullscreen"),this.controlsOn()},this.controlsOn=function(){this.media.setAttribute("controls","")},this.controlsOff=function(){this.media.removeAttribute("controls")},this.isPlayOn=function(){this.container.classList.add("isPlay")},this.isPlayOff=function(){this.container.classList.remove("isPlay")},this.set()}window.$controller=function(t){return new e(t)}}(),function(){"use strict";function e(t){var c,h=this;this.type=t.type,this.index=t.index,this.syncData=t.sync,this.syncIndex=0,this.element=!!t.sync.element&&t.sync.element,this.preObjview=!!t.preObjview&&t.preObjview,this.bringToFront=void 0===t.bringToFront||t.bringToFront,this.mediaIndex=!!t.mediaIndex&&t.mediaIndex,"musicSync"===this.type&&(c=t.sync),this.createCation=function(){this.captionBtn=this.mediaController.captionBtn,this.captionContainer=$ts.ce({tag:"div",class:"captionContainer",parent:this.mediaController.container}),this.captionText=$ts.ce({tag:"div",class:"captionText",parent:this.captionContainer}),this.captionText.innerHTML=this.syncData.text[0].text},this.addEvent=function(){this.captionBtn&&(this.captionBtn.classList.add("on"),this.captionBtn.addEventListener("click",this.toggleCaption.bind(this)),$ts.addHoverEvents(this.captionBtn),this.captionBtn.addEventListener("click",$efSound.click))},this.toggleCaption=function(){this.captionContainer.classList.contains("on")?this.captionContainer.classList.remove("on"):this.captionContainer.classList.add("on")},this.getSyncTarget=function(){for(var t=$ts.getEl('[data-sync-container="'+this.syncData.container+'"]')[0],e=this.element?$ts.getEl(this.element,t):$ts.getEl("[data-sync-target]",t),i=this.element?this.element.replace("[","").replace("]",""):"data-sync-target",n=new Array(this.syncData.time.length),s=0;s<n.length;s++)n[s]=[];for(var s in e)n[e[s].getAttribute(i)-1].push(e[s]);this.syncData.target=n,this.syncData.targetOn=$ts.getEl("[data-target-on]",t)},this.syncPlay=function(){this.syncAni&&clearInterval(this.syncAni),this.mediaIndex&&this.mediaIndex!=this.mediaController.media.getAttribute("data-media-index")||(this.syncAni=setInterval(function(){var t=h.syncIndex;if(h.syncIndex=h.getSyncIndex(),null==h.syncIndex)h.clearSync();else if(t!==h.syncIndex){if(h.preObjview){console.log("preview Object viewMode"),h.clearSync();for(var e=0;e<h.syncIndex;e++)h.addClass({target:h.syncData.target[e],class:"on"})}else h.clearSync({targetIdx:t});h.activeSync(h.syncIndex)}else this.syncAni&&clearInterval(this.syncAni)},2))},this.getSyncIndex=function(t){var t=h.mediaController.media.currentTime,e=null;for(var i in this.syncData.time)t>=this.syncData.time[i][0]&&t<this.syncData.time[i][1]&&(e=i);return e},this.activeSync=function(t){var e;h.preObjview||this.clearSync(),"caption"===this.type?this.captionText.innerHTML=this.syncData.text[t].text:"rolePlay"===this.type||("target"===this.type?(this.addClass({target:this.syncData.target[t],class:"on"}),this.syncData.callbacks.activeSync&&this.syncData.callbacks.activeSync(this.syncData.target[t])):"imageSwitch"===this.type?this.syncData.target.src=this.syncData.images[t]:"musicSync"===this.type&&(e=this.syncData.target[t],this.addClass({target:e,class:"on"}),console.log(this.bringToFront),e&&this.bringToFront&&e[0].parentNode.appendChild(e[0])))},this.clearSync=function(t){if("caption"===this.type)this.captionText.innerHTML="";else if("rolePlay"===this.type)this.muted(!1);else if("target"===this.type||"musicSync"===this.type)if(t&&t.targetIdx)console.log("targetIdx",t.targetIdx),this.removeClass({target:this.syncData.target[t.targetIdx],class:"on"}),this.syncData.callbacks.clearSync&&this.syncData.callbacks.clearSync(this.syncData.target[t.targetIdx]);else for(var e in this.syncData.target)this.removeClass({target:this.syncData.target[e],class:"on"});else"imageSwitch"===this.type&&(this.syncData.target.src="");this.mediaController.isPlaying||(console.log("stop????",this.syncAni),clearInterval(this.syncAni))},this.syncPause=function(){clearInterval(this.syncAni)},this.addClass=function(t){for(var e in t.target){var i=t.target[e];i.classList?i.classList.add(t.class):i.className.baseVal?i.className.baseVal=i.className.baseVal+" "+t.class:i.className.baseVal=t.class}},this.removeClass=function(t){for(var e in t.target){var i,n,s=t.target[e];s.classList?s.classList.remove(t.class):(n=(i=s.className.baseVal).indexOf(t.class),i.length===t.class.length?s.className.baseVal="":0===n?s.className.baseVal=i.slice(t.class.length+1,i.length):n+t.class.length===i.length?s.className.baseVal=i.slice(0,n-1):s.className.baseVal=i.slice(0,n-1)+i.slice(n,i.length))}},this.switchClass=function(t){for(var e in t.target)t.target[e].className=t.target[e].className.replace(t.currentClass,t.changeClass)},this.syncEnd=function(){console.log("syncEnd",this.syncAni),this.syncAni&&clearInterval(this.syncAni),this.clearSync(),this.syncIndex=0,"target"===this.type&&this.syncData.targetOn&&this.addClass({target:this.syncData.targetOn,class:"on"})},this.muted=function(t){t?(this.mediaController.media.muted=!0,this.mediaController.media.volume=0):(this.mediaController.media.muted=!1,this.mediaController.media.volume=this.mediaController.volume)},this.reset=function(){this.syncEnd(),this.captionContainer&&this.captionContainer.classList.remove("on")},this.getMedia=function(i){var n=this,s=window.setInterval(function(){var t=window.$pm.array.controller;if(t){for(var e in window.clearInterval(s),t)parseInt(t[e].mediaSync)===n.index&&(n.mediaController=t[e]);i()}})},this.setMusicSync=function(){var s,a,n,e,r;this.svgs=c.svgs,this.svgElement=document,this.noteKey=c.noteKey,this.noteName=c.noteName?c.noteName:"#bar_",this.startTime=c.start,this.endTime=c.end,this.noteCount=c.noteSyncData.length,this.noteSyncData=c.noteSyncData,this.meter=c.meter,this.mode=c.mode,this.speedAdjust=c.speedAdjust,this.beat=(this.endTime-this.startTime)/this.noteCount+this.speedAdjust,s=0,a=[],h.svgs.forEach(function(t,e){for(var i=document.querySelector("#"+t).querySelector(h.noteName+(e+1)),n=0;n<i.children.length;n++)"#text"!==i.children[n].nodeName&&"true"!==i.children[n].getAttribute("pass")&&(i.children[n].setAttribute("id",h.getNoteId(s)),i.children[n].setAttribute("svgId",e+1),a.push([i.children[n]]),s++)}),h.syncData.target=a,r=[],h.noteSyncData.forEach(function(t,i){c.bridge?c.bridge.forEach(function(t,e){n>=t.start&&n<t.end?(n=t.end,console.log("bridgeidx",i)):n=0==i?h.startTime:r[i-1][1]}):n=0==i?h.startTime:r[i-1][1],e=n+t*h.beat,r.push([n,e])}),console.log(r),h.syncData.time=r},this.getNoteId=function(t){var e=t+1;return e=e<10?this.noteKey+"00"+e:e<100?this.noteKey+"0"+e:this.noteKey+e},this.addMediaEvent=function(){this.mediaController.media.removeEventListener("play",this.syncPlay.bind(this)),this.mediaController.media.removeEventListener("ended",this.syncEnd.bind(this)),this.mediaController.handleBar.removeEventListener("click",this.syncPlay.bind(this)),this.mediaController.pauseBtn.removeEventListener("click",this.syncPause.bind(this)),this.mediaController.stopBtn.removeEventListener("click",this.syncEnd.bind(this)),this.mediaController.media.addEventListener("play",this.syncPlay.bind(this)),this.mediaController.media.addEventListener("ended",this.syncEnd.bind(this)),this.mediaController.handleBar.addEventListener("click",this.syncPlay.bind(this)),this.mediaController.pauseBtn.addEventListener("click",this.syncPause.bind(this)),this.mediaController.stopBtn.addEventListener("click",this.syncEnd.bind(this))},this.set=function(){var e=this,i=$ts.getEl("[data-media-btn]");this.getMedia(function(){if("caption"===e.type?(e.createCation(),e.addEvent()):"rolePlay"===e.type?e.createRolePlay():"target"===e.type?e.getSyncTarget():"imageChange"===e.type||"musicSync"===e.type&&e.setMusicSync(),e.addMediaEvent(),i)for(var t in i)i[t].addEventListener("click",e.addMediaEvent.bind(e)),i[t].addEventListener("click",e.syncEnd.bind(e));"speaker"===e.mediaController.controlType&&e.mediaController.speaker.addEventListener("click",e.syncEnd.bind(e))})},this.set()}window.$rolePlay=function(t){return new e(t)}}(),function(){function e(t){var s=this;this.container=t.container,this.mediaController=t.controller,this.volume=t.volume,this.create=function(){return this.volumeContainer=$ts.ce({tag:"div",class:"volumeContainer",parent:this.controller}),this.muteBtn=$ts.ce({tag:"div",class:"muteBtn",parent:this.volumeContainer}),this.handleBar=$ts.ce({tag:"div",class:"handleBar",parent:this.volumeContainer}),this.handleColorBar=$ts.ce({tag:"div",class:"handleColorBar",parent:this.handleBar}),this.handler=$ts.ce({tag:"div",class:"handler",parent:this.handleBar}),this},this.addEvent=function(){this.handleBar.addEventListener("click",this.clickBar.bind(this)),this.handler.addEventListener("mousedown",this.dragHandler.bind(this)),this.handler.addEventListener("touchstart",this.dragHandler.bind(this))},this.reset=function(){},this.getData=function(){var t={};return t.barSize=this.handleBar.getBoundingClientRect(),t.barTotalSize=t.barSize.right-t.barSize.left,t.handlerWidth=this.handler.getBoundingClientRect().width/2,t},this.clickBar=function(t){var e=this.getData();this.LEFT="touchstart"===t.type?t.touches[0].clientX:t.clientX,e.changeLeftValue=this.LEFT-e.barSize.left,e.rate=e.changeLeftValue/e.barTotalSize*100,this.changeHandlerPosition(e),this.changeCurTime(e)},this.dragHandler=function(t){var e=s.getData();function i(t){s.LEFT="touchmove"===t.type?t.touches[0].clientX:t.clientX,e.changeLeftValue=s.LEFT-e.barSize.left,e.rate=e.changeLeftValue/e.barTotalSize*100,s.changeHandlerPosition(e),s.changeCurTime(e)}function n(){document.removeEventListener("mousemove",i),document.removeEventListener("touchmove",i),document.removeEventListener("mouseup",n),document.removeEventListener("touchend",n)}s.LEFT="touchstart"===t.type?t.touches[0].clientX:t.clientX,document.addEventListener("mousemove",i),document.addEventListener("touchmove",i),document.addEventListener("mouseup",n),document.addEventListener("touchend",n)},this.changeHandlerPosition=function(t){var e=t.changeLeftValue/$pm.zoomRate;t.rate<0?e=null:100<t.rate&&(e=t.barSize.width/$pm.zoomRate),this.handler.style.transform="translateX("+e+"px)",this.handler.style.msTransform="translateX("+e+"px)",this.handler.style.mozTransform="translateX("+e+"px)",this.handler.style.webkitTransform="translateX("+e+"px)",this.handleColorBar.style.width=100<t.rate?"100%":t.rate+"%"},this.changeCurTime=function(t){var e=isNaN(this.media.duration)?this.mediaDuration:this.media.duration;this.media.currentTime=e*(t.rate/100)},this.set=function(){this.create().addEvent()},this.set()}window.$volume=function(t){return new e(t)}}(),function(t){t&&t.prototype&&null==t.prototype.children&&Object.defineProperty(t.prototype,"children",{get:function(){for(var t,e=0,i=this.childNodes,n=[];t=i[e++];)1===t.nodeType&&n.push(t);return n}})}(window.Node||window.Element);