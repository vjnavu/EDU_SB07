"use strict";!function(){function t(s,e){var a=this;return(a={container:s.container,slides:[],tabs:[],prevBtn:null,nextBtn:null,toggleBtn:null,length:0,idx:0,dspIdx:0,active:!1,opts:{carousel:{wrapper:null,loop:{left:!1,right:!1},transitionDuration:0,timeout:0},callbacks:{move:void 0,reset:void 0},slideClass:null,tabClass:null,btnClass:null},init:function(){this.setOpts(),this.setSlides(),s.tabs&&this.setTabs(),s.prevBtn&&s.nextBtn&&this.setBtns(),s.toggleBtn&&this.toggleBtns(),this.opts.carousel?this.setCarousel():this.changeMoves(),this.active||(this.active=!0)},setOpts:function(){this.opts=e,this.opts.slideClass||(this.opts.slideClass="on"),this.opts.tabClass||(this.opts.tabClass="on"),this.opts.btnClass||(this.opts.btnClass="off")},setSlides:function(){this.length=s.slides.length;for(var t=0;t<this.length;t++)this.slides[t]=s.slides[t]},setTabs:function(){for(var t=0;t<s.tabs.length;t++)this.tabs[t]=s.tabs[t];this.tabs.forEach(function(t){t.addEventListener("click",a.tabClick,!1),t.addEventListener("click",$efSound.click)})},setBtns:function(){this.prevBtn=s.prevBtn,this.nextBtn=s.nextBtn,this.prevBtn.addEventListener("click",this.btnClick),this.nextBtn.addEventListener("click",this.btnClick),this.prevBtn.addEventListener("click",$efSound.click),this.nextBtn.addEventListener("click",$efSound.click)},toggleBtns:function(){this.toggleBtn=s.toggleBtn,this.toggleBtn.addEventListener("click",this.toggleBtnClick.bind(this)),this.toggleBtn.addEventListener("click",$efSound.click)},setCarousel:function(){if(this.checkContainer(),this.opts.carousel.wrapper){var t,s,e,i,o=this.opts.carousel.wrapper;$ts.setStyles(o,{top:0,left:0,height:"100%",overflow:"hidden",clear:"left"}),t=this.slides[this.slides.length-1].cloneNode(!0),o.insertBefore(t,this.slides[0]),s=this.slides[0].cloneNode(!0),o.appendChild(s),e=$ts.concatArrays([[t],this.slides,[s]]),this.slides=e,i={float:"left",position:"relative",display:"block"};for(var n=0;n<this.slideLength;n++){var l=this.slides[n];$ts.setStyles(l,i)}this.setCarouselWidth(),a.idx=1,this.changeMoves()}else console.error("slider: carousel wrapper가 없습니다.")},checkContainer:function(){var t=$ts.getStyles(this.container),s="absolute"===t.position||"relative"===t.position,e="hidden"===t.overflow;s?e||console.error("slider: caraousel slider container의 overflow: hidden이어야 합니다."):console.error("slider: caraousel slider container의 position: absolute나 relative이어야 합니다.")},setCarouselWidth:function(){this.opts.carousel.wrapper.style.width=this.containerWidth*this.slideLength+"px";for(var t=0;t<this.slideLength;t++){this.slides[t].style.width=this.containerWidth+"px"}},carouselSlideMoves:function(t){var s=t&&t.idx?t.idx:this.idx,e=this.opts.carousel.wrapper,i=(t&&t.width?t.width:this.containerWidth)*s;e.style.transform="translateX(-"+i+"px)",e.style.msTransform="translateX(-"+i+"px)",e.style.webkitTransform="translateX(-"+i+"px)"},tabClick:function(){var e=this;a.tabs.forEach(function(t,s){e===t&&(a.idx=a.opts.carousel?s+1:s)}),a.changeMoves()},btnClick:function(){var t=0===a.idx||a.opts.carousel&&a.opts.carousel.loop&&!a.opts.carousel.loop.left&&1===a.idx,s=a.idx===a.slideLength-1||a.opts.carousel&&a.opts.carousel.loop&&!a.opts.carousel.loop.right&&a.idx===a.slideLength-2;this===a.prevBtn?t||(a.idx--,a.changeMoves()):s||(a.idx++,a.changeMoves()),a.imageView(this,a.idx)},imageView:function(t,s){var e,i,o;a.container.querySelector("[data-view-count]")&&(e=s,i=a.container.querySelector("[data-view-count]"),o=parseInt(i.getAttribute("data-view-count")),this.tabs.length,t===a.prevBtn?-1<this.tabs[e].className.indexOf("displayN")&&this.tabs[e].classList.remove("displayN"):o<=e&&this.tabs[e-o].classList.add("displayN"))},changeMoves:function(t){this.changeDspIdx(),this.slideMoves(t),this.tabMoves(),this.btnMoves(),!(this.active&&this.opts.callbacks&&this.opts.callbacks.move)||t&&t.resetMoves||e.callbacks.move(this)},changeDspIdx:function(){this.opts.carousel?0===this.idx?this.dspIdx=this.length-1:this.idx===this.length+1?this.dspIdx=0:this.dspIdx=this.idx-1:this.dspIdx=this.idx},slideMoves:function(t){var s,e=this,i=this.opts.slideClass||"";this.opts.carousel?(s=this.opts.carousel.wrapper,this.carouselSlideMoves(),!this.active||t&&t.noSlideMoves||(s.style.transition="transform "+this.opts.carousel.transitionDuration+"ms",this.carouselTimeout())):e.slides.forEach(function(t,s){t.classList.remove(i),e.idx===s&&t.classList.add(i)})},tabMoves:function(){if(this.tabs&&0!==this.tabs.length){var e=this,i=this.opts.tabClass||"";if(e.tabs.forEach(function(t,s){t.classList.remove(i),e.dspIdx===s&&t.classList.add(i)}),a.container.querySelector("[data-view-count]")){var t=parseInt(a.container.querySelector("[data-view-count]").getAttribute("data-view-count")),s=e.idx+1;if(t<s)for(var o=0;o<s-4;o++)e.tabs[o].classList.add("displayN")}}},btnMoves:function(){var t,s,e;this.prevBtn&&this.nextBtn&&(t=this.opts.btnClass||null,s=this.opts.carousel&&this.opts.carousel.loop&&this.opts.carousel.loop.left,e=this.opts.carousel&&this.opts.carousel.loop&&this.opts.carousel.loop.right,t&&(0===this.dspIdx?s||this.prevBtn.classList.add(t):this.prevBtn.classList.remove(t),this.dspIdx===this.length-1?e||this.nextBtn.classList.add(t):this.nextBtn.classList.remove(t)))},toggleBtnClick:function(){var t=this.toggleBtn;t.classList.contains("on")?(t.classList.remove("on"),this.slides[0].parentNode.classList.remove("off")):(t.classList.add("on"),this.slides[0].parentNode.classList.add("off"))},disableAll:function(t){var s;if(this.tabs){s=this.tabs.length;for(var e=0;e<s;e++){var i=this.tabs[e];i.style.pointerEvents=t?"none":"auto"}}this.prevBtn&&(this.prevBtn.style.pointerEvents=t?"none":"auto"),this.nextBtn&&(this.nextBtn.style.pointerEvents=t?"none":"auto")},carouselTimeout:function(){var t=this;this.disableAll(!0),t.opts.carousel.timeout=window.setTimeout(function(){t.opts.carousel.wrapper.transition="none",t.disableAll(!1),window.clearTimeout(t.opts.carousel.timeout),t.opts.carousel&&(t.idx===t.length+1?t.idx=1:0===t.idx&&(t.idx=t.length),t.opts.carousel.wrapper.style.transition="none",t.slideMoves({noSlideMoves:!0}))},t.opts.carousel.transitionDuration)},reset:function(t){this.idx=this.opts.carousel?1:0,0<arguments.length&&t.idx&&(this.idx=t.idx),this.changeMoves({noSlideMoves:!0,resetMoves:!0}),this.opts.callbacks&&this.opts.callbacks.reset&&this.active&&this.opts.callbacks.reset(this)},addCallbacks:function(t){if(this.opts.callbacks)for(var s in t)this.opts.callbacks[s]=t[s];else this.opts.callbacks=t},get containerWidth(){return parseInt($ts.getStyles(this.container).width)},get slideLength(){return this.slides.length}}).init(),a}"undefined"!=typeof module&&void 0!==module.exports?module.exports=t:window.$slider=t}();