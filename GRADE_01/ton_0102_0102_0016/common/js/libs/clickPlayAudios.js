!function(){function t(t,e,n){t||console.error("clickPlayAudio: no targets"),e||console.error("clickPlayAudio: no audio srcs");var o=[],i=[],a={blockSound:void 0,targetClick:void 0,playing:void 0,pause:void 0,ended:void 0,btnClick:void 0,activated:[]},n=n||null;function d(t,e){var n,a=t.length,e=e||0;if(0!==a){for(var i=0;i<a;i++)(n=t[i])?(n.audioTextIndex||(n.audioTextIndex=i+e),o.push(n)):o.push(null);return this}}function l(t,e){var n=t.length;e=e||0;for(var a=0;a<n;a++)!function(t,e,n){var a=document.createElement("audio");a.audioIndex||(a.audioIndex=e+n);a.tempSrc=t,i.push(a)}(t[a],a,e);return this}d(t),l(e),this.getTarget=function(t){return o[t]},this.getTargetArray=function(){return o},this.getAudio=function(t){return i[t]},this.getAudioArray=function(){return i},this.getCallbacks=function(){return a},this.setCallbacks=function(t,e){a[t]=e},this.activateCallback=function(t){a.activated.push(t)},this.adding=function(t,e){var n=o.length;d(t,n),l(e,n),this.addEventsToTargets(t,n),this.addEventsToSounds(i.slice(n,i.length),n)},this.btn=n,this.addEventsToTargets(o),this.addEventsToSounds(i),this.btn&&this.addEventToBtn(n)}t.prototype.addEventsToTargets=function(t){var a=this;this.btn||t.forEach(function(t,e){t.addEventListener("click",function(t){for(var e,n=t.target;!n.audioTextIndex&&0!==n.audioTextIndex;)n=n.parentElement;e=n.audioTextIndex,a.getCallbacks()&&a.getCallbacks().blockSound&&a.getCallbacks().blockSound(t,a,e)||(a.getCallbacks()&&a.getCallbacks().targetClick&&a.getCallbacks().targetClick(t,a,e),a.stopAll(),a.playAudio(e))},!0)})},t.prototype.addEventsToSounds=function(t){var n=this;t.forEach(function(t,e){e=t.audioIndex;t.addEventListener("playing",function(t){n.getCallbacks().playing&&n.getCallbacks().playing(t,n,e)}),t.addEventListener("pause",function(t){n.getCallbacks().pause&&n.getCallbacks().pause(t,n,e)}),t.addEventListener("ended",function(t){n.getCallbacks().ended&&n.getCallbacks().ended(t,n,e)})})},t.prototype.addCallbacks=function(t){for(var e in this.getCallbacks())t.hasOwnProperty(e)&&(this.getCallbacks().activated.some(function(t){return t===e})||(this.getCallbacks()[e]=t[e],this.activateCallback(e)))},t.prototype.stopAll=function(){this.getAudioArray().forEach(function(t){t.paused||t.pause(),t.currentTime&&(t.currentTime=0)})},t.prototype.playAudio=function(t){var e=this.getAudio(t);e.src?e.play():(e.addEventListener("loadeddata",function t(){e.removeEventListener("loadeddata",t),e.load(),e.play()}),e.src=e.tempSrc)},t.prototype.addEventToBtn=function(t){var e=this;t.addEventListener("click",function(){e.getCallbacks()&&e.getCallbacks().btnClick&&e.getCallbacks().btnClick(event,e),e.stopAll(),e.playAudio(0)})},"undefined"!=typeof module&&void 0!==module.exports?module.exports=t:window.$clickPlayAudios=t}();