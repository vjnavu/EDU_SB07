"use strict";!function(){function i(t){var e,n,a,o,r,i,s,c,l=t.controller,d=(t.container,t.target),u={},f=1,p=0,v=5;function g(){p=(p=Number(p)+1/v).toFixed(1)<1?p.toFixed(1):1,$()}function m(){p=0<(p=Number(p)-1/v).toFixed(1)?p.toFixed(1):0,$()}function b(t){p=t.offsetX/u.barWidth,p=Number(p.toFixed(2)),$()}function $(){var t;t=f+s*(10*p),d.style.webkitTransform="translateX(-50%) scale("+t+")",d.style.mozTransform="translateX(-50%) scale("+t+")",d.style.msTransform="translateX(-50%) scale("+t+")",d.style.transform="translateX(-50%) scale("+t+")",d.style.webkitTransformOrigin="50% 0",d.style.mozTransformOrigin="50% 0",d.style.msTransformOrigin="50% 0",d.style.transformOrigin="50% 0",d.style.top="",d.style.left="";var e=u.barWidth*p,n=u.handlerStartLeft+e;r.style.left=n+"px",o.style.width=e+"%"}c=setInterval(function(){d.offsetWidth&&(clearInterval(c),i=1240/d.offsetWidth,i=Number(i.toFixed(2)),s=(i-f)/10,console.log("targetWidth:",d.offsetWidth),console.log("maxValue:",i),console.log("mount:",s.toFixed(2)))},10),e=$ts.ce({tag:"button",class:"zoomInBtn",parent:l}),n=$ts.ce({tag:"button",class:"zoomOutBtn",parent:l}),a=$ts.ce({tag:"div",class:"bar",parent:l}),o=$ts.ce({tag:"div",class:"innerBar",parent:a}),r=$ts.ce({tag:"div",class:"handler",parent:l}),$ts.addHoverEvents(e,"preventDefault"),$ts.addHoverEvents(n,"preventDefault"),$ts.addHoverEvents(r,"preventDefault"),e.addEventListener("click",g),n.addEventListener("click",m),a.addEventListener("click",b),e.addEventListener("click",$efSound.click),n.addEventListener("click",$efSound.click),u.handlerStartLeft=r.offsetLeft,u.barWidth=a.offsetWidth,new $Drag({dragObj:r,type:"horizon",dragOption:"translate",callBack:{move:function(t){var e=(e=t.newX-u.handlerStartLeft)>u.barWidth?u.barWidth:e<0?0:e;p=e/u.barWidth,$()},end:function(t){}}}),"nodrag"!==d.getAttribute("data-zoom-target")&&new $Drag({dragObj:d,callBack:{move:function(t){var e=d.getBoundingClientRect().height-500;200<t.newY?d.style.top="200px":t.newY<-e&&(d.style.top=-e+"px"),1100<t.newX?d.style.left="1100px":t.newX<100&&(d.style.left="100px")},end:function(t){}}})}function s(t){var e=t.btn,n=t.popup,a=$ts.getEl("[data-close-btn]",t.popup)[0];function o(t){t.addEventListener("mousemove",function(t){t.stopPropagation()}),t.addEventListener("touchstart",function(t){t.stopPropagation()})}function r(t){n.classList.add("on")}function i(t){n.classList.remove("on")}console.log("click"),$ts.addHoverEvents(e,"preventDefault"),e.addEventListener("click",r),$ts.addHoverEvents(a,"preventDefault"),a.addEventListener("click",i),e.addEventListener("click",$efSound.click),a.addEventListener("click",$efSound.click),o(e),o(a)}document.addEventListener("touchmove",function(t){t.preventDefault()},{passive:!1}),document.addEventListener("click",function(t){parent.SING_menuOff(),parent.SING_menuActive(parent.SING_iframe.getAttribute("current-page"))}),function(){!function(){window.$efSound={};var e={click:$ts.createAudio.set("../ko/libs/media/click.mp3")};for(var n in e)!function(t){window.$efSound[n]=function(){$ts.createAudio.interval(t.duration,function(){!function(){for(var t in e)e[t].pause(),e[t].currentTime&&(e[t].currentTime=0)}(),t.play()})}}(e[n])}();var t=parent.document.getElementById("singMenu").getAttribute("data-sing-title"),e=$ts.getEl("[data-info-btn]")[0],n=$ts.getEl("[data-info-popup]")[0],a=$ts.getEl("[data-zoom-controller]")[0],o=$ts.getEl("[data-zoom-container]")[0],r=$ts.getEl("[data-zoom-target]",o)[0];$ts.ce({tag:"h1",parent:r}).innerHTML=t,o&&a&&new i({controller:a,container:o,target:r}),e&&n&&new s({btn:e,popup:n}),function(){var t=$ts.getEl("[data-popup-btn]"),e=$ts.getEl("[data-popup-page]");for(var n in t)for(var a in e)e[a].getAttribute("data-popup-page")==t[n].getAttribute("data-popup-btn")&&new s({btn:t[n],popup:e[a]})}(),setTimeout(function(){$ts.getEl("img",r)[0].style.display="inline-block",$ts.getEl("main")[0].style.opacity=1},200),setTimeout(function(){o.style.opacity=1},300)}()}();