"use strict";window.$sing=new function(e){console.log(e);var n=e.container,t=n.className,a=n.getAttribute("data-type"),s=($ts.getEl("[data-menu]",n),$ts.getEl("main")[0]),i=$ts.getEl("section > iframe")[0],r=i.src.split("/")[i.src.split("/").length-2],l={ui:{},content:{header:$ts.getEl("header")[0]}};function o(e){e.stopPropagation(),this.classList.contains("on")?u():(u(),this.classList.add("on"),i.style.pointerEvents="none")}function c(e){$ts.getEl('[data-menu="'+e+'"]')[0].classList.add("active")}function u(){var e=$ts.getEl("[data-menu]",n);for(var t in e)e[t].classList.remove("on"),e[t].classList.remove("active");i.style.pointerEvents="auto"}function d(){var e=this.getAttribute("data-menu");"vocal"===e||"sheet"===e||"mr"===e?p({mode:"sing",singType:e}):"single"===a?-1<e.indexOf("Repeat")?("noSub"===t||-1<e.indexOf("-"))&&p({mode:"repeatOne",singType:e}):p({mode:"sing",singType:e}):"multi"===a?-1==e.indexOf("-")||(-1<e.indexOf("Repeat")?p({mode:"repeatOne",singType:e}):p({mode:"sing",singType:e})):"lan"!==a&&"pro"!==a||("syllable"===e?p({mode:"sing",singType:e}):"syllableRepeat"===e?"noSub"===t&&p({mode:"repeatOne",singType:e}):-1<e.indexOf("-")&&(-1<e.indexOf("Repeat")?p({mode:"repeatOne",singType:e}):p({mode:"sing",singType:e})),"pro"===a&&-1<e.indexOf("Repeat")&&p({mode:"repeatOne",singType:e}))}function p(e){var t,n=(n=-1<e.singType.indexOf("-")?e.singType.split("-")[0]:e.singType).replace("Ar","").replace("Mr","");i.setAttribute("current-page",n),t="vocal"===e.singType?"../vocalPractice/vocal.html":"./"+r+"/"+e.singType+".html?mode="+e.mode,i.src=t,u(),c(n)}function g(e){for(var t in e.target)e.target[t].style.transition="all 0.5s",e.target[t].style.webkitTransform=e.transformValue,e.target[t].style.mozTransform=e.transformValue,e.target[t].style.msTransform=e.transformValue,e.target[t].style.transform=e.transformValue;e.callBack&&setTimeout(function(){e.callBack()},200)}i.setAttribute("current-page","sheet"),n.classList.add(a),console.log("┌-----------Sync Info-----------┐"),console.log("  + folder: "+r),console.log("  + Mode: "+t),console.log("  + Type: "+a),console.log("└-------------------------------┘"),s.addEventListener("click",function(e){u(),c(i.getAttribute("current-page"))}),function(){window.$efSound={};var t={click:$ts.createAudio.set("./ko/libs/media/click.mp3")};for(var n in t)!function(e){window.$efSound[n]=function(){$ts.createAudio.interval(e.duration,function(){!function(){for(var e in t)t[e].pause(),t[e].currentTime&&(t[e].currentTime=0)}(),e.play()})}}(t[n])}(),function(){var e={sing:$ts.getEl('[data-menu="sing"]')[0],singRepeat:$ts.getEl('[data-menu="singRepeat"]')[0],syllable:$ts.getEl('[data-menu="syllable"]')[0],syllableRepeat:$ts.getEl('[data-menu="syllableRepeat"]')[0]},t={single:{Ar:"노래와 노래",Mr:"노래와 반주"},multi:{all:"합창",up:"소프라노",down:"알토"},lan:{kor:"우리말",for:"원어"},pro:{pro:"전문가",stu:"학생"}},i={Ar:"노래와 노래",Mr:"노래와 반주"};for(var n in e)for(var a in t){var s=$ts.ce({tag:"ul",parent:e[n]});s.setAttribute("data-sub-type",a),s.classList.add("subMenuContainer"),"sing"===n||"syllable"===n?"single"===a?e[n].removeChild(s):("multi"===a&&s.classList.add("singSubMulti"),"lan"===a&&s.classList.add("singSubLan"),"pro"===a&&s.classList.add("singSubPro"),r({case:"sing",type:n,subMenu:t[a],container:s})):"single"===a?(s.classList.add("repeatSubSingle"),r({case:"sing",type:n,subMenu:t[a],container:s})):"lan"===a||"pro"===a?("lan"===a&&s.classList.add("repeatSubLan"),"pro"===a&&s.classList.add("repeatSubPro"),"singRepeat"===n?r({case:"repeat",type:n,subMenu:t[a],container:s}):(s.classList.add("noSubMenu"),r({case:"lan",type:n,subMenu:i,container:s}))):("multi"===a&&s.classList.add("repeatSubMulti"),r({case:"repeat",type:n,subMenu:t[a],container:s}))}function r(e){for(var t in e.subMenu){var n=$ts.ce({tag:"li",parent:e.container});if(n.innerHTML='<span class="name">'+e.subMenu[t]+"</span>",n.setAttribute("data-menu",e.type+"-"+t),$ts.addHoverEvents(n,"preventDefault"),"sing"!==e.case&&"lan"!==e.case&&"pro"!==e.case)for(var a in i){var s=$ts.ce({tag:"span",parent:n});s.setAttribute("data-menu",e.type+a+"-"+t),s.innerHTML="<span>"+i[a]+"</span>",$ts.addHoverEvents(s,"preventDefault")}"syllable"!==e.type&&"syllableRepeat"!==e.type||"all"===t&&e.container.removeChild(n)}}}(),function(){var e=$ts.getEl("[data-menu]",n);for(var t in e)e[t].addEventListener("click",o),e[t].addEventListener("click",d),$ts.addHoverEvents(e[t],"preventDefault"),e[t].addEventListener("click",$efSound.click)}(),g({target:[l.content.header],transformValue:"translateY(-38px)"}),window.SING_menuOff=u,window.SING_menuActive=c,window.SING_iframe=i}({container:$ts.getEl("header > ul")[0]});